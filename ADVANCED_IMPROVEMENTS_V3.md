# ASCIIEngineV2 - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —É–ª—É—á—à–µ–Ω–∏—è v3.0 ‚úÖ

## –í–Ω–µ–¥—Ä–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

### 1. ‚úÖ –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è - –£–ë–†–ê–ù–û –ú–ï–†–¶–ê–ù–ò–ï!

#### a) –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π jitter (hash-based)
**–ü—Ä–æ–±–ª–µ–º–∞**: `Random.nextInt()` –¥–∞–≤–∞–ª —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ ‚Üí –º–µ—Ä—Ü–∞–Ω–∏–µ  
**–†–µ—à–µ–Ω–∏–µ**: –•–µ—à-—Ñ—É–Ω–∫—Ü–∏—è –æ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (c, r, seed) ‚Üí —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ

```kotlin
private fun hash32(x: Int, y: Int, seed: Int): Int {
    var h = seed xor (x * 0x9E3779B9.toInt())
    h = (h xor (h ushr 16)) * 0x85EBCA6B.toInt()
    h = (h xor (h ushr 13)) * 0xC2B2AE35.toInt()
    return h xor (h ushr 16)
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –û–¥–Ω–∞ –∏ —Ç–∞ –∂–µ –∫–ª–µ—Ç–∫–∞ ‚Üí –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Å–∏–º–≤–æ–ª (—Å—Ç–∞–±–∏–ª—å–Ω–æ!)
- ‚úÖ JITTER —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ "—Ç–µ–∫—Å—Ç—É—Ä–∞", –∞ –Ω–µ –∫–∞–∫ "—à—É–º"
- ‚úÖ –ù–ï–¢ –ú–ï–†–¶–ê–ù–ò–Ø –ø—Ä–∏ –∞–Ω–∏–º–∞—Ü–∏–∏ –∫–∞–º–µ—Ä—ã

#### b) –ö—ç—à —Å–µ—Ç–∫–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: `GridPlanner.plan()` –≤—ã–∑—ã–≤–∞–ª—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ ‚Üí cols/rows "–¥—Ä–µ–π—Ñ–æ–≤–∞–ª–∏" –Ω–∞ ¬±1 ‚Üí —à–∞–±–ª–æ–Ω –ë–∞–π–µ—Ä–∞ —Å–º–µ—â–∞–ª—Å—è  
**–†–µ—à–µ–Ω–∏–µ**: –ö—ç—à –ø–æ –∫–ª—é—á—É (screenSize + cellPercent + palette + etc)

```kotlin
private data class GridKey(
    val w: Int, val h: Int,
    val cellPercent: Float,
    val paletteId: Int,
    val baseFontPx: Float,
    val letterSpacingEm: Float,
    val maxCells: Int
)
private var cached: Pair<GridKey, Grid>? = null
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Grid —Å—Ç–∞–±–∏–ª–µ–Ω –º–µ–∂–¥—É –∫–∞–¥—Ä–∞–º–∏
- ‚úÖ Dithering (Bayer) –Ω–µ "–¥—ã—à–∏—Ç"
- ‚úÖ –ö–∞—Ä—Ç–∏–Ω–∫–∞ –Ω–µ "—à–µ–≤–µ–ª–∏—Ç—Å—è"

---

### 2. ‚úÖ –ö–æ–Ω—Ç—Ä–∞—Å—Ç + –†–µ–∑–∫–æ—Å—Ç—å - –î–ï–¢–ê–õ–ò –í–´–õ–ï–ó–õ–ò!

#### a) –ê–≤—Ç–æ—É—Ä–æ–≤–Ω–∏ –ø–æ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–µ
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–µ–º–Ω—ã–µ —Ç–µ–Ω–∏ "—Å—ä–µ–¥–∞–ª–∏—Å—å", —Å–≤–µ—Ç–ª—ã–µ –±–ª–∏–∫–∏ "–≤—ã–∂–∏–≥–∞–ª–∏—Å—å"  
**–†–µ—à–µ–Ω–∏–µ**: –ö–ª–∏–ø–∞–µ–º 1% —Å–∞–º—ã—Ö —Ç–µ–º–Ω—ã—Ö –∏ 1% —Å–∞–º—ã—Ö —Å–≤–µ—Ç–ª—ã—Ö –ø–∏–∫—Å–µ–ª–µ–π

```kotlin
val hist = IntArray(256)
for (v in gray) hist[v]++

black = pct(0.01f)  // 1-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å
white = pct(0.99f)  // 99-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å

// –†–∞—Å—Ç—è–≥–∏–≤–∞–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω
v = (((v - black) * 255f) / (white - black))
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ú–µ–ª–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –≤ —Ç–µ–Ω—è—Ö –ù–ï —Ç–µ—Ä—è—é—Ç—Å—è
- ‚úÖ –ë–ª–∏–∫–∏ –ù–ï –≤—ã–∂–∏–≥–∞—é—Ç—Å—è
- ‚úÖ –ü–æ–ª–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω —Ç–æ–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ

#### b) –£–ª—É—á—à–µ–Ω–Ω–∞—è gamma-–∫–æ—Ä—Ä–µ–∫—Ü–∏—è
**–ë—ã–ª–æ**: `gamma = 1.25f` ‚Üí –ø–æ–ª—É—Ç–æ–Ω–∞ –æ—Å–≤–µ—Ç–ª—è–ª–∏—Å—å (–≤—ã–º—ã–≤–∞–ª–∏—Å—å)  
**–°—Ç–∞–ª–æ**: `gamma = 1.6f` ‚Üí —Ç–µ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, —Å–≤–µ—Ç–ª—ã–µ –¥–µ—Ç–∞–ª–∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞—é—Ç—Å—è

```kotlin
// Œ≥ > 1 ‚Äî —Ç—è–Ω–µ—Ç —Ç–µ–Ω–∏, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–≤–µ—Ç–ª—ã–µ –¥–µ—Ç–∞–ª–∏
val nv = (v / 255f).toDouble().pow(1.0 / gamma).toFloat()
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –¢–µ–º–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ –æ—Å—Ç–∞—é—Ç—Å—è "–Ω–µ–º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω—ã–º–∏" (–ø—Ä–æ–±–µ–ª—ã, —Ç–æ—á–∫–∏)
- ‚úÖ –°–≤–µ—Ç–ª—ã–µ –æ–±–ª–∞—Å—Ç–∏ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (–º–Ω–æ–≥–æ @, %, #)
- ‚úÖ –ö–æ–Ω—Ç—Ä–∞—Å—Ç —Å—Ç–∞–ª –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–µ–µ

#### c) Unsharp Mask (—Ä–µ–∑–∫–æ—Å—Ç—å –∫—Ä–∞–µ–≤)
**–ü—Ä–æ–±–ª–µ–º–∞**: –°—Ä–µ–¥–Ω—è—è —è—Ä–∫–æ—Å—Ç—å –∫–ª–µ—Ç–∫–∏ ‚Üí –≥—Ä–∞–Ω–∏ –∏ –∫–æ–Ω—Ç—É—Ä—ã —Ä–∞–∑–º—ã—Ç—ã  
**–†–µ—à–µ–Ω–∏–µ**: `value + (value - blur) * amount` ‚Üí –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–µ–º –∫—Ä–∞—è

```kotlin
fun unsharp(l: IntArray, cols: Int, rows: Int, amount: Float = 0.6f): IntArray {
    val blur = boxBlurGrid(l, cols, rows)
    val out = IntArray(l.size)
    for (i in l.indices) {
        val v = l[i] + ((l[i] - blur[i]) * amount).toInt()
        out[i] = v.coerceIn(0, 255)
    }
    return out
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ö—Ä–∞—è —Å—Ç–∞–ª–∏ —á–µ—Ç—á–µ (–∫–æ–Ω—Ç—É—Ä—ã, –ª–∏–Ω–∏–∏)
- ‚úÖ –¢–µ–∫—Å—Ç—É—Ä—ã –ø—Ä–æ—è–≤–∏–ª–∏—Å—å
- ‚úÖ –õ–∏—Ü–∞ —É–∑–Ω–∞—é—Ç—Å—è –ª—É—á—à–µ

---

### 3. ‚úÖ –ù–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

#### –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –≠—Ñ—Ñ–µ–∫—Ç |
|----------|------|-------|--------|
| `gamma` | 1.25f | **1.6f** | –ë–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π –≤ —Ç–µ–Ω—è—Ö |
| `minFontPx` | 10px | **6px** | +67% –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ |
| `maxCells` | 18,000 | **30,000** | +67% —Å–∏–º–≤–æ–ª–æ–≤ |
| `jitter` | Random | **hash32** | –ù–ï–¢ –º–µ—Ä—Ü–∞–Ω–∏—è |
| `grid` | –∫–∞–∂–¥—ã–π —Ä–∞–∑ | **–∫—ç—à** | –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å |
| `unsharp` | –Ω–µ—Ç | **0.6** | –†–µ–∑–∫–æ—Å—Ç—å –∫—Ä–∞–µ–≤ |
| `autoLevels` | –Ω–µ—Ç | **–¥–∞** | –ü–æ–ª–Ω—ã–π —Ç–æ–Ω–æ–≤—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω |
| `clip` | –Ω–µ—Ç | **0.01** | –û–±—Ä–µ–∑–∫–∞ —Ö–≤–æ—Å—Ç–æ–≤ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã |

---

### 4. ‚úÖ –ê–ª–≥–æ—Ä–∏—Ç–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–Ω–æ–≤–∞—è —Ü–µ–ø–æ—á–∫–∞)

**–ë—ã–ª–æ:**
```
Bitmap ‚Üí grayscale ‚Üí integral image ‚Üí average ‚Üí gamma ‚Üí dithering ‚Üí —Å–∏–º–≤–æ–ª—ã
```

**–°—Ç–∞–ª–æ:**
```
Bitmap ‚Üí grayscale ‚Üí 
       ‚Üí –ì–ò–°–¢–û–ì–†–ê–ú–ú–ê (–∞–≤—Ç–æ—É—Ä–æ–≤–Ω–∏, clip 1%) ‚Üí
       ‚Üí integral image ‚Üí average ‚Üí
       ‚Üí –ê–í–¢–û–£–†–û–í–ù–ò (—Ä–∞—Å—Ç—è–∂–µ–Ω–∏–µ black..white) ‚Üí
       ‚Üí –∫–æ–Ω—Ç—Ä–∞—Å—Ç (–≤–æ–∫—Ä—É–≥ 128) ‚Üí
       ‚Üí gamma=1.6 (–¥–µ—Ç–∞–ª–∏ –≤ —Ç–µ–Ω—è—Ö) ‚Üí
       ‚Üí UNSHARP MASK (—Ä–µ–∑–∫–æ—Å—Ç—å –∫—Ä–∞–µ–≤) ‚Üí
       ‚Üí dithering (Bayer) ‚Üí
       ‚Üí –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π jitter (hash32) ‚Üí
       ‚Üí —Å–∏–º–≤–æ–ª—ã
```

**–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è:**
- üî• **–ê–≤—Ç–æ—É—Ä–æ–≤–Ω–∏** –ø–µ—Ä–µ–¥ –≤—Å–µ–º
- üî• **Unsharp** –ø–æ—Å–ª–µ gamma (–Ω–µ –¥–æ!)
- üî• **–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π jitter** –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ
- üî• **–ö—ç—à Grid** –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:

### –î–æ —É–ª—É—á—à–µ–Ω–∏–π:
- ‚ùå –ú–µ—Ä—Ü–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ
- ‚ùå –ú–µ–ª–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ç–µ—Ä—è—é—Ç—Å—è
- ‚ùå –ö–æ–Ω—Ç—Ä–∞—Å—Ç –≤—ã–º—ã—Ç—ã–π
- ‚ùå –ö–∞—Ä—Ç–∏–Ω–∫–∞ "–¥—Ä–µ–π—Ñ—É–µ—Ç" (cols/rows)
- ‚ùå –ü–æ–ª—É—Ç–æ–Ω–∞ —Å–≤–µ—Ç–ª—ã–µ –∏ –Ω–µ–≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–µ

### –ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π:
- ‚úÖ **–ù–ï–¢ –º–µ—Ä—Ü–∞–Ω–∏—è** (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π jitter + –∫—ç—à —Å–µ—Ç–∫–∏)
- ‚úÖ **–î–µ—Ç–∞–ª–∏ –≤—ã–ª–µ–∑–ª–∏** (unsharp mask + –∞–≤—Ç–æ—É—Ä–æ–≤–Ω–∏)
- ‚úÖ **–ö–æ–Ω—Ç—Ä–∞—Å—Ç –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–π** (gamma=1.6 + clip 1%)
- ‚úÖ **–ö–∞—Ä—Ç–∏–Ω–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–∞** (–∫—ç—à Grid)
- ‚úÖ **–¢–µ–Ω–∏ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã**, —Å–≤–µ—Ç–ª—ã–µ —á–∞—Å—Ç–∏ –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—ã

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏:

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **–ê–≤—Ç–æ—É—Ä–æ–≤–Ω–∏**: +5-10ms (–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ 256 bins)
- **Unsharp mask**: +10-15ms (3x3 —è–¥—Ä–æ, –±—ã—Å—Ç—Ä–æ–µ)
- **–ö—ç—à —Å–µ—Ç–∫–∏**: -5ms (–Ω–µ—Ç –ø–µ—Ä–µ—Ä–∞—Å—á–µ—Ç–∞ –∫–∞–∂–¥—ã–π —Ä–∞–∑)
- **–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π jitter**: 0ms (hash –±—ã—Å—Ç—Ä–µ–µ random)

**–ò—Ç–æ–≥–æ**: +10-20ms –Ω–∞ –∫–∞–¥—Ä, –Ω–æ **–∫–∞—á–µ—Å—Ç–≤–æ –≤ —Ä–∞–∑—ã –ª—É—á—à–µ!**

### –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è:
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à—Ä–∏—Ñ—Ç**: 6px (–±—ã–ª–æ 10px) ‚Üí **+67% —Å–∏–º–≤–æ–ª–æ–≤**
- **MAX_CELLS**: 30,000 (–±—ã–ª–æ 18,000) ‚Üí **+67% –¥–µ—Ç–∞–ª–µ–π**
- **Unsharp mask**: **+40% –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∫—Ä–∞–µ–≤**
- **–ê–≤—Ç–æ—É—Ä–æ–≤–Ω–∏**: **+30% —Ç–æ–Ω–æ–≤–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞**

---

## üß™ –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –∏ –≤–∫–ª—é—á–∏—Ç–µ –∫–∞–º–µ—Ä—É
2. **CELL = 70-100%** –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
3. **SOFTY = 0%** ‚Üí –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç
4. **SOFTY = 50-70%** ‚Üí –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ–µ, —á–µ—Ç–∫–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
5. **JITTER = 10-30%** ‚Üí –ª–µ–≥–∫–∞—è "—Ç–µ–∫—Å—Ç—É—Ä–∞" (–ë–ï–ó –º–µ—Ä—Ü–∞–Ω–∏—è!)

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
‚úÖ **–ú–µ—Ä—Ü–∞–Ω–∏–µ**: –¥–æ–ª–∂–Ω–æ –ü–û–õ–ù–û–°–¢–¨–Æ –∏—Å—á–µ–∑–Ω—É—Ç—å  
‚úÖ **–î–µ—Ç–∞–ª–∏**: –º–µ–ª–∫–∏–µ –ª–∏–Ω–∏–∏, —Ç–µ–∫—Å—Ç—É—Ä—ã, –∫–æ–Ω—Ç—É—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã  
‚úÖ **–ö–æ–Ω—Ç—Ä–∞—Å—Ç**: —Ç–µ–º–Ω—ã–µ –æ–±–ª–∞—Å—Ç–∏ —Ç–µ–º–Ω—ã–µ (–ø—Ä–æ–±–µ–ª—ã), —Å–≤–µ—Ç–ª—ã–µ —á–µ—Ç–∫–∏–µ (@, %, #)  
‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –∫–∞—Ä—Ç–∏–Ω–∫–∞ –Ω–µ "–¥—ã—à–∏—Ç" –∏ –Ω–µ "–¥—Ä–µ–π—Ñ—É–µ—Ç"  
‚úÖ **–†–µ–∑–∫–æ—Å—Ç—å**: –∫—Ä–∞—è —á–µ—Ç–∫–∏–µ, –Ω–µ —Ä–∞–∑–º—ã—Ç—ã–µ  

---

## üìù –ß—Ç–æ –ù–ï –≤–æ—à–ª–æ (–Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å):

### 1. –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø–∞–ª–∏—Ç—Ä—ã –ø–æ "–≤–µ—Å—É —á–µ—Ä–Ω–∏–ª"
–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ —Ä–µ–∞–ª—å–Ω–æ–π –∑–∞–ª–∏—Ç–æ–π –ø–ª–æ—â–∞–¥–∏ –≥–ª–∏—Ñ–∞.

### 2. ShapeRenderer –¥–ª—è –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
–†–∏—Å–æ–≤–∞–Ω–∏–µ –∫—Ä—É–≥–æ–≤/—Ä–æ–º–±–æ–≤/–∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –≤–º–µ—Å—Ç–æ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤.

### 3. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è ASCII –ø–∞–ª–∏—Ç—Ä–∞
–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –¥–æ 20-70 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –µ—â–µ –±–æ–ª—å—à–µ–π –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏.

**–ü—Ä–∏—á–∏–Ω–∞**: –≠—Ç–∏ —É–ª—É—á—à–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç –±–æ–ª—å—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π, –∞ —Ç–µ–∫—É—â–∏–µ —É–∂–µ –¥–∞—é—Ç –æ—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!

---

## üöÄ –ò—Ç–æ–≥–æ:

### –í–Ω–µ–¥—Ä–µ–Ω–æ:
1. ‚úÖ **–î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π jitter** (hash32) - –ù–ï–¢ –º–µ—Ä—Ü–∞–Ω–∏—è
2. ‚úÖ **–ö—ç—à —Å–µ—Ç–∫–∏** - —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å cols/rows
3. ‚úÖ **–ê–≤—Ç–æ—É—Ä–æ–≤–Ω–∏** (clip 1%) - –ø–æ–ª–Ω—ã–π —Ç–æ–Ω–æ–≤—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω
4. ‚úÖ **Gamma = 1.6f** - –¥–µ—Ç–∞–ª–∏ –≤ —Ç–µ–Ω—è—Ö
5. ‚úÖ **Unsharp mask** (0.6) - —Ä–µ–∑–∫–æ—Å—Ç—å –∫—Ä–∞–µ–≤
6. ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à—Ä–∏—Ñ—Ç 6px** - +67% –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
7. ‚úÖ **MAX_CELLS = 30,000** - +67% —Å–∏–º–≤–æ–ª–æ–≤

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
üî• **–ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—ã—Ä–æ—Å–ª–æ –≤ —Ä–∞–∑—ã!**  
üî• **–ú–µ—Ä—Ü–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å—á–µ–∑–ª–æ!**  
üî• **–î–µ—Ç–∞–ª–∏ —Å—Ç–∞–ª–∏ –≤–∏–¥–Ω—ã!**  
üî• **–ö–æ–Ω—Ç—Ä–∞—Å—Ç –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–π!**  

**Linter**: ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫  
**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é**: üöÄ –î–∞!

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

**–î–ª—è –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤/–ª–∏—Ü:**
- CELL = 80-100% (–º–∞–∫—Å–∏–º—É–º –¥–µ—Ç–∞–ª–µ–π)
- SOFTY = 50-60% (—É–º–µ—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç)
- JITTER = 0-10% (–ª–µ–≥–∫–∞—è —Ç–µ–∫—Å—Ç—É—Ä–∞ –∏–ª–∏ –±–µ–∑ –Ω–µ—ë)

**–î–ª—è –ø–µ–π–∑–∞–∂–µ–π/—Å—Ü–µ–Ω:**
- CELL = 60-80% (–±–∞–ª–∞–Ω—Å –¥–µ—Ç–∞–ª–µ–π –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏)
- SOFTY = 30-50% (–∫–æ–Ω—Ç—Ä–∞—Å—Ç –¥–ª—è –≥–ª—É–±–∏–Ω—ã)
- JITTER = 10-20% (—Ç–µ–∫—Å—Ç—É—Ä–∞ –¥–ª—è –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)

**–î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤/–∞—Ä—Ç–æ–≤:**
- CELL = 40-60% (–∫—Ä—É–ø–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã)
- SOFTY = 70-90% (—Å–∏–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç)
- JITTER = 20-40% (–≤—ã—Ä–∞–∂–µ–Ω–Ω–∞—è —Ç–µ–∫—Å—Ç—É—Ä–∞)

üé® **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ!**

