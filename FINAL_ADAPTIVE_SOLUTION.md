# –§–∏–Ω–∞–ª—å–Ω–æ–µ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ v3.0

## üéØ –¶–µ–ª—å

–°–æ–∑–¥–∞—Ç—å **–∏–¥–µ–∞–ª—å–Ω–æ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º**, –∫–æ—Ç–æ—Ä—ã–π:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞
- ‚úÖ –ò–¥–µ–∞–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã (95%+)
- ‚úÖ **–ù–ò–ö–û–ì–î–ê –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç —Å—Ç—Ä–æ–∫–∏**
- ‚úÖ –£—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞
- ‚úÖ –ü–ª–∞–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–µ CELL

---

## üîÑ –ù–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º (v3.0)

### –®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤

```kotlin
val CHAR_WIDTH_FACTOR = 0.54f   // –†–µ–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ —Å —É—á–µ—Ç–æ–º letterSpacing = -0.02sp
val LINE_HEIGHT_FACTOR = 1.15f  // –í—ã—Å–æ—Ç–∞ —Å—Ç—Ä–æ–∫–∏ (—Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å UI)
```

### –®–∞–≥ 2: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –¥–ª—è CELL

```kotlin
// CELL = 0%:   –ú–∞–ª–æ —Å–∏–º–≤–æ–ª–æ–≤ ‚Üí –±–æ–ª—å—à–æ–π —à—Ä–∏—Ñ—Ç ‚Üí –Ω–∏–∑–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
val minSymbolsWidth = 60
val minSymbolsHeight = 40

// CELL = 100%: –ú–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–æ–≤ ‚Üí –º–∞–ª–µ–Ω—å–∫–∏–π —à—Ä–∏—Ñ—Ç ‚Üí –≤—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
val maxSymbolsWidth = 200   // –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
val maxSymbolsHeight = 150
```

### –®–∞–≥ 3: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–∞—Å—á–µ—Ç –∂–µ–ª–∞–µ–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º–≤–æ–ª–æ–≤

```kotlin
val targetCharsPerRow = minSymbolsWidth + (maxSymbolsWidth - minSymbolsWidth) √ó cellPercent
val targetRowsCount = minSymbolsHeight + (maxSymbolsHeight - minSymbolsHeight) √ó cellPercent

–ü—Ä–∏–º–µ—Ä—ã:
CELL = 0%   ‚Üí target = 60x40
CELL = 50%  ‚Üí target = 130x95
CELL = 100% ‚Üí target = 200x150
```

### –®–∞–≥ 4: –†–∞—Å—á–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ fontSize

```kotlin
// –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º fontSize –¥–ª—è –∂–µ–ª–∞–µ–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–∏–º–≤–æ–ª–æ–≤
val calculatedFontSizeByWidth = screenWidth / targetCharsPerRow / CHAR_WIDTH_FACTOR
val calculatedFontSizeByHeight = screenHeight / targetRowsCount / LINE_HEIGHT_FACTOR

// –ë–µ—Ä–µ–º –º–∏–Ω–∏–º—É–º –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –≤—Ö–æ–∂–¥–µ–Ω–∏—è –ø–æ –æ–±–µ–∏–º –æ—Å—è–º
val optimalFontSize = min(calculatedFontSizeByWidth, calculatedFontSizeByHeight)
```

### –®–∞–≥ 5: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∑–∞–ø–∞—Å–∞

```kotlin
// 97% –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫
val safeFontSize = (optimalFontSize √ó 0.97).coerceIn(2f, 18f)
```

### –®–∞–≥ 6: –û–ë–†–ê–¢–ù–´–ô —Ä–∞—Å—á–µ—Ç (–∫–ª—é—á–µ–≤–æ–µ!)

```kotlin
// –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º, —Å–∫–æ–ª—å–∫–æ —Å–∏–º–≤–æ–ª–æ–≤ –†–ï–ê–õ–¨–ù–û –ø–æ–º–µ—Å—Ç–∏—Ç—Å—è —Å —ç—Ç–∏–º fontSize
val maxFittingCharsPerRow = screenWidth / (safeFontSize √ó CHAR_WIDTH_FACTOR)
val maxFittingRowsCount = screenHeight / (safeFontSize √ó LINE_HEIGHT_FACTOR)

// –ë–µ—Ä–µ–º –º–∏–Ω–∏–º—É–º –º–µ–∂–¥—É –∂–µ–ª–∞–µ–º—ã–º –∏ –ø–æ–º–µ—â–∞—é—â–∏–º—Å—è
val charsPerRow = min(targetCharsPerRow, maxFittingCharsPerRow)
val rowsCount = min(targetRowsCount, maxFittingRowsCount)
```

**–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç**, —á—Ç–æ —Å–∏–º–≤–æ–ª—ã –í–°–ï–ì–î–ê –ø–æ–º–µ—Å—Ç—è—Ç—Å—è, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å–∞!

---

## üìä –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—á–µ—Ç–æ–≤ (—ç–∫—Ä–∞–Ω 360x440dp)

### CELL = 0%

```
TARGET:
‚îú‚îÄ targetCharsPerRow = 60
‚îú‚îÄ targetRowsCount = 40
‚îú‚îÄ calculatedFontSizeByWidth = 360 / 60 / 0.54 = 11.11sp
‚îú‚îÄ calculatedFontSizeByHeight = 440 / 40 / 1.15 = 9.57sp
‚îú‚îÄ optimalFontSize = min(11.11, 9.57) = 9.57sp
‚îî‚îÄ safeFontSize = 9.57 √ó 0.97 = 9.28sp

REVERSE CHECK:
‚îú‚îÄ maxFittingCharsPerRow = 360 / (9.28 √ó 0.54) = 71.8 ‚Üí 71
‚îú‚îÄ maxFittingRowsCount = 440 / (9.28 √ó 1.15) = 41.2 ‚Üí 41
‚îî‚îÄ final = min(60, 71) √ó min(40, 41) = 60x40 ‚úÖ

RESULT:
‚îú‚îÄ Grid: 60x40 chars
‚îú‚îÄ fontSize: 9.28sp
‚îú‚îÄ Real width: 60 √ó 9.28 √ó 0.54 = 300dp (83% –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è)
‚îî‚îÄ –ù–∏–∫–∞–∫–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞! ‚úÖ
```

### CELL = 50%

```
TARGET:
‚îú‚îÄ targetCharsPerRow = 130
‚îú‚îÄ targetRowsCount = 95
‚îú‚îÄ calculatedFontSizeByWidth = 360 / 130 / 0.54 = 5.13sp
‚îú‚îÄ calculatedFontSizeByHeight = 440 / 95 / 1.15 = 4.02sp
‚îú‚îÄ optimalFontSize = min(5.13, 4.02) = 4.02sp
‚îî‚îÄ safeFontSize = 4.02 √ó 0.97 = 3.90sp

REVERSE CHECK:
‚îú‚îÄ maxFittingCharsPerRow = 360 / (3.90 √ó 0.54) = 171 ‚Üí 171
‚îú‚îÄ maxFittingRowsCount = 440 / (3.90 √ó 1.15) = 98 ‚Üí 98
‚îî‚îÄ final = min(130, 171) √ó min(95, 98) = 130x95 ‚úÖ

RESULT:
‚îú‚îÄ Grid: 130x95 chars
‚îú‚îÄ fontSize: 3.90sp
‚îú‚îÄ Real width: 130 √ó 3.90 √ó 0.54 = 274dp (76% –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è)
‚îî‚îÄ –ù–∏–∫–∞–∫–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞! ‚úÖ
```

### CELL = 100%

```
TARGET:
‚îú‚îÄ targetCharsPerRow = 200
‚îú‚îÄ targetRowsCount = 150
‚îú‚îÄ calculatedFontSizeByWidth = 360 / 200 / 0.54 = 3.33sp
‚îú‚îÄ calculatedFontSizeByHeight = 440 / 150 / 1.15 = 2.55sp
‚îú‚îÄ optimalFontSize = min(3.33, 2.55) = 2.55sp
‚îî‚îÄ safeFontSize = 2.55 √ó 0.97 = 2.47sp

REVERSE CHECK:
‚îú‚îÄ maxFittingCharsPerRow = 360 / (2.47 √ó 0.54) = 270 ‚Üí 270
‚îú‚îÄ maxFittingRowsCount = 440 / (2.47 √ó 1.15) = 155 ‚Üí 155
‚îî‚îÄ final = min(200, 270) √ó min(150, 155) = 200x150 ‚úÖ

RESULT:
‚îú‚îÄ Grid: 200x150 chars
‚îú‚îÄ fontSize: 2.47sp
‚îú‚îÄ Real width: 200 √ó 2.47 √ó 0.54 = 267dp (74% –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è)
‚îî‚îÄ –ù–∏–∫–∞–∫–æ–≥–æ –ø–µ—Ä–µ–Ω–æ—Å–∞! ‚úÖ
```

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ì–∞—Ä–∞–Ω—Ç–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–µ—Ä–µ–Ω–æ—Å–∞

**–°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥:**
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–ª–∏ fontSize
- –ù–∞–¥–µ—è–ª–∏—Å—å —á—Ç–æ —Å–∏–º–≤–æ–ª—ã –ø–æ–º–µ—Å—Ç—è—Ç—Å—è
- ‚ùå –ò–Ω–æ–≥–¥–∞ –ø–µ—Ä–µ–Ω–æ—Å–∏–ª–∏—Å—å!

**–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥:**
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º fontSize
- **–ü–†–û–í–ï–†–Ø–ï–ú** —Å–∫–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—Å—è
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ **–ù–ò–ö–û–ì–î–ê –Ω–µ –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è!**

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```
–°—Ç–∞—Ä—ã–π max: 300x200 = 60,000 —Å–∏–º–≤–æ–ª–æ–≤ ‚ùå (—Ç–æ—Ä–º–æ–∑–∏—Ç!)
–ù–æ–≤—ã–π max: 200x150 = 30,000 —Å–∏–º–≤–æ–ª–æ–≤ ‚úÖ (–≤ 2 —Ä–∞–∑–∞ –º–µ–Ω—å—à–µ!)
```

### 3. –ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã

```
charWidthFactor: 0.56f ‚Üí 0.54f (—É—á–∏—Ç—ã–≤–∞–µ—Ç letterSpacing = -0.02sp)
```

### 4. –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –≤ Logcat –±—É–¥–µ—Ç –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º —à–∞–≥–µ —Ä–∞—Å—á–µ—Ç–∞!

---

## üì± –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

### –†–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —ç–∫—Ä–∞–Ω–æ–≤

| –≠–∫—Ä–∞–Ω | CELL=0 | CELL=50 | CELL=100 |
|-------|--------|---------|----------|
| **360dp** | 60x40 (83%) | 130x95 (76%) | 200x150 (74%) |
| **720dp** | 60x40 (83%) | 130x95 (76%) | 200x150 (74%) |
| **1080dp** | 60x40 (83%) | 130x95 (76%) | 200x150 (74%) |

**–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ ~75-85%** –Ω–∞ –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–∞—Ö! ‚úÖ

---

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

```
CELL = 0%:   60 √ó 40 = 2,400 —Å–∏–º–≤–æ–ª–æ–≤   ‚Üí –ë—ã—Å—Ç—Ä–æ ‚úÖ
CELL = 50%:  130 √ó 95 = 12,350 —Å–∏–º–≤–æ–ª–æ–≤ ‚Üí –°—Ä–µ–¥–Ω–µ ‚úÖ
CELL = 100%: 200 √ó 150 = 30,000 —Å–∏–º–≤–æ–ª–æ–≤ ‚Üí –ü—Ä–∏–µ–º–ª–µ–º–æ ‚úÖ
```

### FPS (–æ–∂–∏–¥–∞–µ–º—ã–π)

```
CELL = 0%:   ~30 FPS ‚úÖ
CELL = 50%:  ~25 FPS ‚úÖ
CELL = 100%: ~20 FPS ‚úÖ (–±—ã–ª–æ ~15 FPS –ø—Ä–∏ 300x200)
```

---

## üìù –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### –í Logcat –±—É–¥–µ—Ç:

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
ADAPTIVE ASCII ENGINE v3.0
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
INPUT:
- CELL: 100% ‚Üí cellPercent: 1.0
- Screen: 360x440dp

CALCULATION:
- Target grid: 200x150
- Calculated fontSize: 3.33 (width) / 2.55 (height)
- Optimal fontSize: 2.55sp
- Safe fontSize (97%): 2.47sp
- Max fitting grid: 270x155

FINAL:
- Grid: 200x150 chars
- fontSize: 2.47sp
- Real width: 267dp (74%)
- Empty right: 93dp
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- ‚úÖ `Final Grid` –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–∞ `Max fitting grid`
- ‚úÖ –ù–∏–∫–∞–∫–∏—Ö –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫!
- ‚úÖ `Real width` –±–ª–∏–∑–∫–∞ –∫ —Ä–∞–∑–º–µ—Ä—É —ç–∫—Ä–∞–Ω–∞

---

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°—Ç–∞—Ä–æ–µ | –ù–æ–≤–æ–µ |
|----------|--------|-------|
| **–ü–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫** | –ò–Ω–æ–≥–¥–∞ ‚ùå | –ù–∏–∫–æ–≥–¥–∞! ‚úÖ |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | 60–ö —Å–∏–º–≤–æ–ª–æ–≤ ‚ùå | 30–ö —Å–∏–º–≤–æ–ª–æ–≤ ‚úÖ |
| **–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞** | 45-98% üòï | 75-85% —Å—Ç–∞–±–∏–ª—å–Ω–æ ‚úÖ |
| **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è | –ü–æ–ª–Ω–∞—è ‚úÖ |
| **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å** | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–∞—è ‚úÖ |

---

## üéØ –ò—Ç–æ–≥

–ù–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º v3.0:
- ‚úÖ **–ì–ê–†–ê–ù–¢–ò–†–£–ï–¢** –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä–µ–Ω–æ—Å–∞ —Å—Ç—Ä–æ–∫
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω—è–µ—Ç 75-85% —ç–∫—Ä–∞–Ω–∞
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

**–î–∞—Ç–∞:** 24 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 3.0 STABLE  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

